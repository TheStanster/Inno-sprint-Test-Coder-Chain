{"nodes":[{"width":300,"height":711,"id":"chatPromptTemplate_1","position":{"x":426.90586450601205,"y":642.7451118024125},"type":"customNode","data":{"id":"chatPromptTemplate_1","label":"Chat Prompt Template","name":"chatPromptTemplate","type":"ChatPromptTemplate","baseClasses":["ChatPromptTemplate","BaseChatPromptTemplate","BasePromptTemplate"],"category":"Prompts","description":"Schema to represent a chat prompt","inputParams":[{"label":"System Message","name":"systemMessagePrompt","type":"string","rows":4,"placeholder":"You are a helpful assistant that translates {input_language} to {output_language}.","id":"chatPromptTemplate_1-input-systemMessagePrompt-string"},{"label":"Human Message","name":"humanMessagePrompt","type":"string","rows":4,"placeholder":"{text}","id":"chatPromptTemplate_1-input-humanMessagePrompt-string"},{"label":"Format Prompt Values","name":"promptValues","type":"string","rows":4,"placeholder":"{\n  \"input_language\": \"English\",\n  \"output_language\": \"French\"\n}","optional":true,"acceptVariable":true,"list":true,"id":"chatPromptTemplate_1-input-promptValues-string"}],"inputAnchors":[],"inputs":{"systemMessagePrompt":"You are a helpful assistant that writes tests for the code provided in {input}. Before you write a test determine the programming language used and what you need to test in that programming language. The tests you write should be simple and completely functional, including imports.","humanMessagePrompt":"{input}","promptValues":""},"outputAnchors":[{"id":"chatPromptTemplate_1-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate","name":"chatPromptTemplate","label":"ChatPromptTemplate","type":"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":426.90586450601205,"y":642.7451118024125},"dragging":false},{"width":300,"height":526,"id":"chatOpenAI_1","position":{"x":439.5219561593599,"y":93.61600226758335},"type":"customNode","data":{"id":"chatOpenAI_1","label":"ChatOpenAI","name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel","BaseLangChain"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"OpenAI Api Key","name":"openAIApiKey","type":"password","id":"chatOpenAI_1-input-openAIApiKey-password"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0314","name":"gpt-4-0314"},{"label":"gpt-4-32k-0314","name":"gpt-4-32k-0314"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0301","name":"gpt-3.5-turbo-0301"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_1-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","default":0.9,"optional":true,"id":"chatOpenAI_1-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_1-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_1-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_1-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_1-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_1-input-timeout-number"}],"inputAnchors":[],"inputs":{"modelName":"gpt-3.5-turbo","temperature":"0.2","maxTokens":"","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":""},"outputAnchors":[{"id":"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel | BaseLangChain"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":439.5219561593599,"y":93.61600226758335},"dragging":false},{"width":300,"height":406,"id":"llmChain_1","position":{"x":905.582911458956,"y":556.5261661213841},"type":"customNode","data":{"id":"llmChain_1","label":"LLM Chain","name":"llmChain","type":"LLMChain","baseClasses":["LLMChain","BaseChain","BaseLangChain"],"category":"Chains","description":"Chain to run queries against LLMs","inputParams":[{"label":"Chain Name","name":"chainName","type":"string","placeholder":"Name Your Chain","optional":true,"id":"llmChain_1-input-chainName-string"}],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"llmChain_1-input-model-BaseLanguageModel"},{"label":"Prompt","name":"prompt","type":"BasePromptTemplate","id":"llmChain_1-input-prompt-BasePromptTemplate"}],"inputs":{"model":"{{chatOpenAI_1.data.instance}}","prompt":"{{chatPromptTemplate_1.data.instance}}","chainName":"Test writer chain"},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"llmChain_1-output-llmChain-LLMChain|BaseChain|BaseLangChain","name":"llmChain","label":"LLM Chain","type":"LLMChain | BaseChain | BaseLangChain"},{"id":"llmChain_1-output-outputPrediction-string","name":"outputPrediction","label":"Output Prediction","type":"string"}],"default":"llmChain"}],"outputs":{"output":"outputPrediction"},"selected":false},"selected":false,"positionAbsolute":{"x":905.582911458956,"y":556.5261661213841},"dragging":false},{"width":300,"height":406,"id":"llmChain_2","position":{"x":1817.4298452730623,"y":382.40008740509137},"type":"customNode","data":{"id":"llmChain_2","label":"LLM Chain","name":"llmChain","type":"LLMChain","baseClasses":["LLMChain","BaseChain","BaseLangChain"],"category":"Chains","description":"Chain to run queries against LLMs","inputParams":[{"label":"Chain Name","name":"chainName","type":"string","placeholder":"Name Your Chain","optional":true,"id":"llmChain_2-input-chainName-string"}],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"llmChain_2-input-model-BaseLanguageModel"},{"label":"Prompt","name":"prompt","type":"BasePromptTemplate","id":"llmChain_2-input-prompt-BasePromptTemplate"}],"inputs":{"model":"{{chatOpenAI_2.data.instance}}","prompt":"{{promptTemplate_0.data.instance}}","chainName":"Test Reviewer chain"},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"llmChain_1-output-llmChain-LLMChain|BaseChain|BaseLangChain","name":"llmChain","label":"LLM Chain","type":"LLMChain | BaseChain | BaseLangChain"},{"id":"llmChain_1-output-outputPrediction-string","name":"outputPrediction","label":"Output Prediction","type":"string"}],"default":"llmChain"}],"outputs":{"output":"llmChain"},"selected":false},"selected":false,"positionAbsolute":{"x":1817.4298452730623,"y":382.40008740509137},"dragging":false},{"width":300,"height":526,"id":"chatOpenAI_2","position":{"x":1325.416900975693,"y":-16.679169255142554},"type":"customNode","data":{"id":"chatOpenAI_2","label":"ChatOpenAI","name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel","BaseLangChain"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"OpenAI Api Key","name":"openAIApiKey","type":"password","id":"chatOpenAI_2-input-openAIApiKey-password"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0314","name":"gpt-4-0314"},{"label":"gpt-4-32k-0314","name":"gpt-4-32k-0314"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0301","name":"gpt-3.5-turbo-0301"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_2-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","default":0.9,"optional":true,"id":"chatOpenAI_2-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_2-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_2-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_2-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_2-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_2-input-timeout-number"}],"inputAnchors":[],"inputs":{"modelName":"gpt-3.5-turbo","temperature":"0.2","maxTokens":"","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":""},"outputAnchors":[{"id":"chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel | BaseLangChain"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1325.416900975693,"y":-16.679169255142554},"dragging":false},{"width":300,"height":534,"id":"promptTemplate_0","position":{"x":1372.9845362120166,"y":755.3496278031522},"type":"customNode","data":{"id":"promptTemplate_0","label":"Prompt Template","name":"promptTemplate","type":"PromptTemplate","baseClasses":["PromptTemplate","BaseStringPromptTemplate","BasePromptTemplate"],"category":"Prompts","description":"Schema to represent a basic prompt for an LLM","inputParams":[{"label":"Template","name":"template","type":"string","rows":4,"placeholder":"What is a good name for a company that makes {product}?","id":"promptTemplate_0-input-template-string"},{"label":"Format Prompt Values","name":"promptValues","type":"string","rows":4,"placeholder":"{\n  \"input_language\": \"English\",\n  \"output_language\": \"French\"\n}","optional":true,"acceptVariable":true,"list":true,"id":"promptTemplate_0-input-promptValues-string"}],"inputAnchors":[],"inputs":{"template":"You are a helpful assistant that reviews tests provided in {test} and gives it to the user. Determine whether the test is functional and accurate for testing the code provided in {code}. Additionally your response must adhere to these rules: \"\"\"\n1. Your response MUST contain the code to a full working test.\n2. If the test is functional, respond with the code needed to run the test as is. \n3. If the test is not functional, improve the test until it is functional and then respond with all the code needed to run the test + a summary of the improvements you made.\n\"\"\"","promptValues":"{\n  \"code\": \"{{question}}\",\n  \"test\": \"{{llmChain_1.data.instance}}\"\n}"},"outputAnchors":[{"id":"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate","name":"promptTemplate","label":"PromptTemplate","type":"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1372.9845362120166,"y":755.3496278031522},"dragging":false}],"edges":[{"source":"chatOpenAI_1","sourceHandle":"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain","target":"llmChain_1","targetHandle":"llmChain_1-input-model-BaseLanguageModel","type":"buttonedge","id":"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain-llmChain_1-llmChain_1-input-model-BaseLanguageModel","data":{"label":""}},{"source":"chatPromptTemplate_1","sourceHandle":"chatPromptTemplate_1-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate","target":"llmChain_1","targetHandle":"llmChain_1-input-prompt-BasePromptTemplate","type":"buttonedge","id":"chatPromptTemplate_1-chatPromptTemplate_1-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate","data":{"label":""}},{"source":"chatOpenAI_2","sourceHandle":"chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain","target":"llmChain_2","targetHandle":"llmChain_2-input-model-BaseLanguageModel","type":"buttonedge","id":"chatOpenAI_2-chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|BaseLangChain-llmChain_2-llmChain_2-input-model-BaseLanguageModel","data":{"label":""}},{"source":"llmChain_1","sourceHandle":"llmChain_1-output-outputPrediction-string","target":"promptTemplate_0","targetHandle":"promptTemplate_0-input-promptValues-string","type":"buttonedge","id":"llmChain_1-llmChain_1-output-outputPrediction-string-promptTemplate_0-promptTemplate_0-input-promptValues-string","data":{"label":""}},{"source":"promptTemplate_0","sourceHandle":"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate","target":"llmChain_2","targetHandle":"llmChain_2-input-prompt-BasePromptTemplate","type":"buttonedge","id":"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate","data":{"label":""}}]}